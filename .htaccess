RewriteEngine On

# Set up WSGI
WSGIScriptAlias /cs145-leaderboard /home/fts/www/cs145-leaderboard/wsgi.py
WSGIDaemonProcess cs145leaderboard python-path=/home/fts/www/cs145-leaderboard python-home=/home/fts/.local
WSGIProcessGroup cs145leaderboard

# Directory permissions for the application
<Directory /home/fts/www/cs145-leaderboard>
    WSGIApplicationGroup %{GLOBAL}
    Require all granted
</Directory>

# Handle static files
Alias /cs145-leaderboard/static /home/fts/www/cs145-leaderboard/static
<Directory /home/fts/www/cs145-leaderboard/static>
    Require all granted
</Directory>

# Security headers
Header always set X-Content-Type-Options nosniff
Header always set X-Frame-Options DENY
Header always set X-XSS-Protection "1; mode=block"

# Disable directory browsing
Options -Indexes

# Error handling
ErrorDocument 404 /cs145-leaderboard/
ErrorDocument 500 /cs145-leaderboard/

# Logging
LogLevel info
CustomLog /home/fts/www/cs145-leaderboard/access.log combined
ErrorLog /home/fts/www/cs145-leaderboard/error.log 